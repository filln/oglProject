#pragma once

#include <stb/stb_image.h>
#include "shader.h"
#include <array>

class SkyBox
{
public:
	SkyBox();
	SkyBox(
		const string& positiveX, const string& negativeX,
		const string& positiveY, const string& negativeY,
		const string& positiveZ, const string& negativeZ
	);
	void DrawSky(
		Shader& shader, 
		glm::mat4 view, glm::mat4 projection
	);
	GLuint GetTexture() const;
	~SkyBox();
private:
	std::array<string, 6> faces;
	const GLfloat	vertices[72] = {
		-1.0f,  1.0f, -1.0f,
		-1.0f, -1.0f, -1.0f,
		 1.0f, -1.0f, -1.0f,
		 1.0f,  1.0f, -1.0f,

		-1.0f, -1.0f,  1.0f,
		-1.0f, -1.0f, -1.0f,
		-1.0f,  1.0f, -1.0f,
		-1.0f,  1.0f,  1.0f,

		 1.0f, -1.0f, -1.0f,
		 1.0f, -1.0f,  1.0f,
		 1.0f,  1.0f,  1.0f,
		 1.0f,  1.0f, -1.0f,

		-1.0f, -1.0f,  1.0f,
		-1.0f,  1.0f,  1.0f,
		 1.0f,  1.0f,  1.0f,
		 1.0f, -1.0f,  1.0f,

		-1.0f,  1.0f, -1.0f,
		 1.0f,  1.0f, -1.0f,
		 1.0f,  1.0f,  1.0f,
		-1.0f,  1.0f,  1.0f,

		-1.0f, -1.0f,  1.0f,
		 1.0f, -1.0f,  1.0f,
		 1.0f, -1.0f, -1.0f,
		-1.0f, -1.0f, -1.0f
	};
	const GLuint indices[36] = {
		0, 1, 2,
		2, 3, 0,

		4, 5, 6,
		6, 7, 4,

		8, 9, 10,
		10, 11, 8,

		12, 13, 14,
		14, 15, 12,

		16, 17, 18,
		18, 19, 16,

		20, 21, 22,
		22, 23, 20
	};
	GLuint 
		texture,
		VAO, VBO, EBO,
		loadCubemap(const std::array<string, 6> faces);
};

